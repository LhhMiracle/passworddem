<!-- 注册页面 - 设置主密码 -->
<view class="register-container">
  <view class="register-header">
    <view class="header-icon">&#128274;</view>
    <view class="header-title">创建主密码</view>
    <view class="header-desc">主密码是解锁您保险箱的唯一钥匙，请牢记它</view>
  </view>

  <view class="register-form">
    <!-- 主密码输入 -->
    <view class="input-group">
      <view class="input-label">设置主密码</view>
      <view class="input-wrapper">
        <input
          class="input-field"
          type="{{showPassword ? 'text' : 'password'}}"
          placeholder="请输入主密码（至少8位）"
          value="{{password}}"
          bindinput="onPasswordInput"
        />
        <view class="toggle-password" bindtap="togglePassword">
          <text>{{showPassword ? '&#128065;' : '&#128064;'}}</text>
        </view>
      </view>
      <!-- 密码强度指示器 -->
      <view class="strength-container" wx:if="{{password}}">
        <view class="strength-bar">
          <view
            class="strength-fill"
            style="width: {{passwordStrength * 25}}%; background-color: {{strengthColor}};"
          ></view>
        </view>
        <text class="strength-text" style="color: {{strengthColor}};">{{strengthLabel}}</text>
      </view>
    </view>

    <!-- 确认密码 -->
    <view class="input-group">
      <view class="input-label">确认主密码</view>
      <view class="input-wrapper">
        <input
          class="input-field"
          type="{{showConfirmPassword ? 'text' : 'password'}}"
          placeholder="请再次输入主密码"
          value="{{confirmPassword}}"
          bindinput="onConfirmPasswordInput"
        />
        <view class="toggle-password" bindtap="toggleConfirmPassword">
          <text>{{showConfirmPassword ? '&#128065;' : '&#128064;'}}</text>
        </view>
      </view>
      <view class="error-text" wx:if="{{confirmPassword && password !== confirmPassword}}">
        两次输入的密码不一致
      </view>
      <view class="success-text" wx:if="{{confirmPassword && password === confirmPassword && password.length >= 8}}">
        密码匹配
      </view>
    </view>

    <!-- 提示信息 -->
    <view class="tips-card">
      <view class="tips-title">&#9888; 重要提示</view>
      <view class="tips-item">主密码无法找回，请务必牢记</view>
      <view class="tips-item">建议使用大小写字母、数字和符号的组合</view>
      <view class="tips-item">不要使用生日、电话号码等容易猜测的密码</view>
    </view>
  </view>

  <view class="register-footer">
    <button
      class="btn-create {{canSubmit ? '' : 'btn-disabled'}}"
      bindtap="createAccount"
      disabled="{{!canSubmit}}"
    >
      创建保险箱
    </button>
  </view>
</view>
